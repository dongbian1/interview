(window.webpackJsonp=window.webpackJsonp||[]).push([[4,8,12,13,14,15,16,17],{407:function(t,s,e){},408:function(t,s,e){},409:function(t,s,e){},418:function(t,s,e){},419:function(t,s,e){},420:function(t,s,e){},421:function(t,s,e){"use strict";e(407)},422:function(t,s,e){"use strict";e(408)},423:function(t,s,e){"use strict";e(409)},424:function(t,s,e){},427:function(t,s,e){"use strict";e.r(s);var i={name:"Info",props:["data","className"],data:()=>({list:{}}),mounted(){this.list=this.data}},a=(e(421),e(3)),l=Object(a.a)(i,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"info-content"},[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"页面标题"}},[s("el-input",{model:{value:t.list.title,callback:function(s){t.$set(t.list,"title",s)},expression:"list.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"页面备注"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.list.remarks,callback:function(s){t.$set(t.list,"remarks",s)},expression:"list.remarks"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"背景颜色"}},[s("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.list.backgroundColor,callback:function(s){t.$set(t.list,"backgroundColor",s)},expression:"list.backgroundColor"}})],1)],1)],1)}),[],!1,null,"c83716d0",null);s.default=l.exports},428:function(t,s,e){"use strict";e.r(s);e(21);var i=e(156),a={name:"Images",components:{Draggable:e.n(i).a},props:{data:{type:Object,default:()=>{}}},data:()=>({list:{},url:"",index:null,show:!1,imageIndex:null}),computed:{size(){return"images"==this.list.type?"750*750":"750*400"},len(){return"images"==this.list.type?8:10}},mounted(){this.list=this.data},methods:{close(){this.show=!1,this.url=""},confirm(){this.list.data[this.index].link=this.url,this.close()},urlPopup(t){this.show=!0,this.index=t,this.url=link},removeImage(t){this.list.data.splice(t,1)},addImage(t){this.imageIndex=t,this.$refs.upload.$children[0].$refs.input.click()},upload(t){if(this.list.data.length>=this.len)return void this.$message.error(`最多添加${this.len}张图片!`);const s=t.file,e=[{text:"只能上传图片格式png、jpg、gif!",result:-1!=s.type.indexOf("image")},{text:"只能上传大小小于5M",result:s.size/1024/1024<5}];for(let t of e)if(!t.result)return void this.$message.error(t.text);const i=new FormData;i.append("file",s),i.append("clientType","multipart/form-data");const a=this.imageIndex,l={name:s.name,url:URL.createObjectURL(s),form:i};null!==a?this.$set(this.list.data,a,l):this.list.data.push(l)}}},l=(e(422),e(3)),n=Object(l.a)(a,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"image-content"},[s("p",{staticClass:"desc"},[t._v("添加图片 (最多"+t._s(t.len)+"张，可拖动排序）")]),t._v(" "),t.list.data&&t.list.data.length>0?s("Draggable",{staticClass:"image-list",class:{disable:2==t.data.tabType},attrs:{tag:"ul",draggable:"li"},model:{value:t.list.data,callback:function(s){t.$set(t.list,"data",s)},expression:"list.data"}},t._l(t.list.data,(function(e,i){return s("li",{key:i},[s("div",{staticClass:"l-info"},[s("p",[s("span",{staticClass:"sort"},[t._v("排序"+t._s(i+1))])]),t._v(" "),s("p",[s("span",[t._v("名称：")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(e&&e.name))])]),t._v(" "),s("p",[s("span",[t._v("链接：")]),t._v(" "),e.link?s("el-tooltip",{attrs:{effect:"dark",content:e.link,placement:"top"}},[s("span",{staticClass:"text",on:{click:function(s){return t.urlPopup(i,e.link)}}},[t._v(t._s(e.link))])]):s("span",{staticClass:"link",on:{click:function(s){return t.urlPopup(i)}}},[t._v("请输入跳转链接")])],1)]),t._v(" "),s("div",{staticClass:"r-image"},[s("span",{staticClass:"el-icon-close",on:{click:function(s){return t.removeImage(i)}}}),t._v(" "),s("div",{staticClass:"image-box"},[s("img",{attrs:{src:e&&e.url}}),t._v(" "),s("span",{staticClass:"el-icon-edit-outline",on:{click:function(s){return t.addImage(i)}}})])])])})),0):t._e(),t._v(" "),t.list.data&&t.list.data.length<t.len?[s("el-button",{staticClass:"add-image",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(s){return t.addImage(null)}}},[t._v("\n            添加图片\n        ")]),t._v(" "),s("p",{staticClass:"size"},[t._v("（建议尺寸："+t._s(t.size)+"）")])]:t._e(),t._v(" "),s("el-upload",{ref:"upload",staticStyle:{display:"none"},attrs:{"http-request":t.upload,"show-file-list":!1,multiple:"",action:""}}),t._v(" "),s("el-dialog",{attrs:{title:"请填写图片跳转链接",visible:t.show},on:{"update:visible":function(s){t.show=s},close:t.close}},[s("el-form",{attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"跳转链接"}},[s("el-input",{model:{value:t.url,callback:function(s){t.url=s},expression:"url"}})],1),t._v(" "),s("el-form-item",{attrs:{label:""}},[s("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)],1)],1)],2)}),[],!1,null,"3373197f",null);s.default=n.exports},429:function(t,s,e){"use strict";e.r(s);e(21);var i=e(156),a={name:"Product",components:{vuedraggable:e.n(i).a},props:{data:{type:Object,default:()=>{}}},data:()=>({list:{},productList:[],loading:!1,show:!1,selectItem:null,selectProduct:"",options:{originalPrice:"划线价",goodRatio:"好评率",volumeStr:"销量数"},loadingOption:!1}),mounted(){this.list=this.data;for(let t in this.options)null==this.data.options[t]&&this.$set(this.list.options,t,!0);this.loadingOption=!0},methods:{optionsChange(t,s){this.$set(this.list.options,t,s)},deleteItem(t){this.list.data.splice(t,1)},searchProductList(t){this.productList=l},confirm(){this.list.data.push(this.selectItem),this.close()},toggleSearchPopup(){this.show=!0},close(){this.show=!1,this.selectItem=null,this.selectProduct=""},addProduct(t){this.selectItem=t}}},l=[{productId:3601,productName:"驼大大新疆正宗骆驼奶粉初乳骆驼乳粉蓝罐礼盒装120g*4罐",productImg:"https://img.quanminyanxuan.com/excel/f6860885547648d9996474bbf21fdca9.jpg",productPrice:299,originalPrice:598,volumeStr:"741",goodRatio:98},{productId:3268,productName:"百合28件套新骨质瓷餐具",productImg:"https://img.quanminyanxuan.com/excel/185e7365f65543f2b4ebc67036d6a78f.jpg",productPrice:370,originalPrice:1388,volumeStr:"400",goodRatio:99},{productId:3343,productName:"和商臻品槐花蜜250克/瓶",productImg:"https://img.quanminyanxuan.com/excel/4626c8c628d04935b0262d04991416b2.jpg",productPrice:34.5,originalPrice:72,volumeStr:"258",goodRatio:98},{productId:3330,productName:"鲍参翅肚浓羹350g袋装",productImg:"https://img.quanminyanxuan.com/excel/58a0c968dc7d42c3ac21e09d1862aa6f.jpg",productPrice:75,originalPrice:128,volumeStr:"258",goodRatio:98}],n=a,o=(e(423),e(3)),r=Object(o.a)(n,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"product-content"},[t._m(0),t._v(" "),s("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:t.toggleSearchPopup}},[s("i",{staticClass:"el-icon-plus"}),t._v(" 添加商品")]),t._v(" "),t.list.data&&t.list.data.length>0?[t.list.data&&t.list.data.length>0?s("vuedraggable",{staticClass:"list",attrs:{tag:"ul",draggable:"li"},model:{value:t.list.data,callback:function(s){t.$set(t.list,"data",s)},expression:"list.data"}},t._l(t.list.data,(function(e,i){return s("li",{key:i,staticClass:"item"},[s("img",{attrs:{src:e.productImg}}),t._v(" "),s("i",{staticClass:"el-icon-error",on:{click:function(s){return t.deleteItem(i)}}})])})),0):t._e()]:t._e(),t._v(" "),s("div",{staticClass:"options"},[s("el-form",{attrs:{"label-width":"80px"}},[t._l(t.options,(function(e,i,a){return[t.loadingOption?s("el-form-item",{key:a,attrs:{label:e}},[s("el-switch",{attrs:{name:i},on:{change:function(s){return t.optionsChange(i,s)}},model:{value:t.list.options[i],callback:function(s){t.$set(t.list.options,i,s)},expression:"list['options'][val]"}})],1):t._e()]}))],2)],1),t._v(" "),s("el-dialog",{attrs:{title:"添加商品","append-to-body":"",visible:t.show},on:{"update:visible":function(s){t.show=s},close:t.close}},[s("el-form",{attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"选择商品"}},[s("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入商品名称","remote-method":t.searchProductList,loading:t.loading},on:{change:t.addProduct},model:{value:t.selectProduct,callback:function(s){t.selectProduct=s},expression:"selectProduct"}},t._l(t.productList,(function(t){return s("el-option",{key:t.productId,attrs:{label:t.productName,"value-key":t.productName,value:t}})})),1)],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)],1)],1)],2)}),[function(){var t=this._self._c;return t("p",{staticClass:"tit"},[this._v("商品列表 "),t("span",[this._v("（可拖动排序）")])])}],!1,null,null,null);s.default=r.exports},431:function(t,s,e){"use strict";e(418)},432:function(t,s,e){"use strict";e(419)},433:function(t,s,e){"use strict";e(420)},434:function(t,s,e){"use strict";e(424)},466:function(t,s,e){},473:function(t,s,e){"use strict";e.r(s);var i={name:"Product",props:["data","className"],computed:{options(){return this.data.options},line(){return this.options.volumeStr&&this.options.goodRatio?"| ":""}}},a=(e(431),e(3)),l=Object(a.a)(i,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"product",class:t.className},[t.data.data&&t.data.data.length>0?t._l(t.data.data,(function(e,i){return s("div",{key:i,staticClass:"product-item"},[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.productImg}})]),t._v(" "),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v(t._s(e.productName))]),t._v(" "),s("p",{staticClass:"num"},[t._v("\n                    "+t._s(t.options.volumeStr?e.volumeStr+" 已购买":"")+" "+t._s(t.line)+" "+t._s(t.options.goodRatio?e.goodRatio+"99%":"")+"\n                ")]),t._v(" "),s("p",{staticClass:"price"},[s("span",[t._v("￥"+t._s(e.productPrice))]),t._v(" "),t.options.originalPrice?s("span",[t._v("￥"+t._s(e.originalPrice))]):t._e()])])])})):t._l(3,(function(e){return s("div",{key:e,staticClass:"product-item product-default"},[t._m(0,!0),t._v(" "),t._m(1,!0)])}))],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"image"},[t("img",{attrs:{src:"https://img.quanminyanxuan.com/other/21188f7a1e9340759c113aa569f96699.jpg?x-oss-process=image/resize,h_600,m_lfit",alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"info"},[t("p",{staticClass:"name"},[this._v("这是商品名称")]),this._v(" "),t("p",{staticClass:"num"},[this._v("\n                    12124 已购买 | 99%\n                ")]),this._v(" "),t("p",{staticClass:"price"},[t("span",[this._v("￥9.99")]),this._v(" "),t("span",[this._v("￥9.99")])])])}],!1,null,"4dbb7c64",null);s.default=l.exports},474:function(t,s,e){"use strict";e.r(s);var i={name:"Images",props:["data","className"]},a=(e(432),e(3)),l=Object(a.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"image-box",class:this.className},[this.data.data&&this.data.data.length>0?this._l(this.data.data,(function(s,e){return t("a",{key:e,attrs:{href:s.link}},[t("img",{attrs:{src:s.url}})])})):[this._m(0)]],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"image-null"},[t("span",{staticClass:"el-icon-picture"})])}],!1,null,"42f339dc",null);s.default=l.exports},475:function(t,s,e){"use strict";e.r(s);var i={name:"Banner",props:["data"]},a=(e(433),e(3)),l=Object(a.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"banner"},[this.data.data&&this.data.data.length>0?t("el-carousel",{attrs:{height:"176px"}},this._l(this.data.data,(function(s,e){return t("el-carousel-item",{key:e},[t("img",{attrs:{src:s.url}})])})),1):t("div",{staticClass:"image-null"},[t("span",{staticClass:"el-icon-picture"})])],1)}),[],!1,null,"36d7f42a",null);s.default=l.exports},476:function(t,s,e){"use strict";e.r(s);var i=e(427),a=e(428),l=e(429),n={name:"EditForm",components:{Info:i.default,Images:a.default,Product:l.default},props:{data:{type:Object,default:()=>{}}},data:()=>({type:"",list:{info:{tit:"页面信息",com:"Info"},images:{tit:"图片",com:"Images"},banner:{tit:"轮播图",com:"Images"},product:{tit:"商品",com:"Product"}},tabType:{1:!0,2:!1,3:!1}}),mounted(){this.type=this.data.type,this.data.tabType&&this.tab(this.data.tabType)},methods:{tab(t){for(let s in this.tabType)t==s?(this.tabType[t]=!0,this.$set(this.data,"tabType",t)):this.tabType[s]=!1}}},o=(e(434),e(3)),r=Object(o.a)(n,(function(){var t=this,s=t._self._c;return s("section",[s("div",{staticClass:"tab-content"},[s("h2",[t._v(t._s(t.type&&t.list[t.type].tit))]),t._v(" "),"info"!=t.type?s("div",{staticClass:"tab"},t._l(t.tabType,(function(e,i,a){return s("span",{key:a,class:{active:e},on:{click:function(s){return t.tab(i)}}},[s("i",{staticClass:"el-icon-s-data"}),t._v(" "+t._s(i))])})),0):t._e()]),t._v(" "),s(t.type&&t.list[t.type].com,{tag:"component",attrs:{data:t.data},on:{changeTab:t.tab}})],1)}),[],!1,null,"8a1a03fc",null);s.default=r.exports},517:function(t,s,e){"use strict";e(466)},530:function(t,s,e){"use strict";e.r(s);e(21);var i=e(156),a=e.n(i),l=e(473),n=e(474),o=e(475),r={components:{EditForm:e(476).default,Draggable:a.a,Product:l.default,Images:n.default,Banner:o.default},data:()=>({type:null,isPush:!1,index:null,props:{},isRight:!1,className:{1:"one",2:"two",3:"three"},typeList:{banner:{name:"轮播图",icon:"el-icon-picture",com:o.default},product:{name:"商品",icon:"el-icon-s-goods",com:l.default},images:{name:"图片",icon:"el-icon-picture",com:n.default}},view:[{type:"info",title:"页面标题"}]}),computed:{info(){return this.view[0]}},methods:{dragStart(t){this.type=t.target.dataset.type},dragEnd(t){this.$delete(this.view[this.index],"status"),this.isPush=!1,this.type=null},selectType(t){this.isRight=!1,this.props=this.view[t],this.$nextTick(()=>this.isRight=!0)},deleteItem(t,s){t.preventDefault(),t.stopPropagation(),this.view.splice(s,1),this.isRight=!1,this.props={}},drog(t){this.type&&(t.preventDefault(),t.stopPropagation(),this.dragEnd())},dragOver(t){if(!this.type)return;t.preventDefault(),t.stopPropagation();let s="view-content"!==t.target.className?"item":"view-content";const e={type:this.type,status:2,data:[],options:{},tabType:1};if("view-content"==s)this.isPush||(this.index=this.view.length,this.isPush=!0,this.view.push(e));else if("item"==s){let s=t.target,[l,n,o]=[t.offsetY,s.offsetHeight,s.dataset.index];console.log([l,n,o]);let r=l<n/2;if(this.isPush){if(r)var i=0==o?0:o-1,a=2==this.view[i].status;else i=+o+1,a=this.view.length>i&&2==this.view[i].status;if(a)return;const t=this.view.splice(this.index,1);this.view.splice(o,0,t[0])}else r?0==o?this.view.unshift(e):this.view.splice(o,0,e):(o=+o+1,this.view.splice(o,0,e));this.index=o,this.isPush=!0}}}},c=(e(517),e(3)),u=Object(c.a)(r,(function(){var t=this,s=t._self._c;return s("section",{staticClass:"decoration-edit"},[s("section",{staticClass:"l"},[s("ul",{on:{dragstart:t.dragStart,dragend:t.dragEnd}},t._l(t.typeList,(function(e,i,a){return s("li",{key:a+1,attrs:{draggable:"","data-type":i}},[s("span",{class:e.icon}),t._v(" "),s("p",[t._v(t._s(e.name))])])})),0)]),t._v(" "),s("section",{staticClass:"c"},[s("div",{staticClass:"top-nav",on:{click:function(s){return t.selectType(0)}}},[s("img",{attrs:{src:t.$withBase("/topNavBlack.png")}}),t._v(" "),s("span",{staticClass:"tit"},[t._v(t._s(t.info.title))])]),t._v(" "),s("div",{staticClass:"view-content",style:{backgroundColor:t.info.backgroundColor},on:{drop:t.drog,dragover:t.dragOver}},[s("Draggable",{attrs:{draggable:".item"},model:{value:t.view,callback:function(s){t.view=s},expression:"view"}},[t._l(t.view,(function(e,i){return[i>0?s("div",{key:i,staticClass:"item",attrs:{"data-index":i},on:{click:function(s){return t.selectType(i)}}},[e.status&&2==e.status?[s("div",{staticClass:"wait"},[t._v(" "+t._s(e.type)+" ")])]:[s(t.typeList[e.type].com,{tag:"component",attrs:{data:e,className:t.className[e.tabType]}})],t._v(" "),s("i",{staticClass:"el-icon-error",on:{click:function(s){return t.deleteItem(s,i)}}})],2):t._e()]}))],2)],1)]),t._v(" "),s("section",{staticClass:"r"},[t.isRight?s("EditForm",{attrs:{data:t.props}}):t._e()],1)])}),[],!1,null,null,null);s.default=u.exports}}]);